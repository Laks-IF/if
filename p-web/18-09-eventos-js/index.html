<!DOCTYPE html>
<html>
<head>
	<title>Eventos em Javascript</title>
	<style type="text/css">
		* {
			margin: 0;
			padding: 0;
			box-sizing: border-box;
		}
		html {
			width: 100%;
			height: 100%;
		}
		body {
			width: 100%;
			height: 100%;

			display: flex;
			justify-content: center;
			align-items: center;
		}
		#a{
			width: 100%;
			height: 100%;

			position: absolute;
			top: 0;
			left: 0;
			z-index: -1;
		}
	</style>
</head>
<body>
	<button onclick="noclick()">Não clica em mim se tiver eplepsia</button>
	<p>Não dá resize na janela por favor</p>
	<canvas id="a"></canvas>
	<script type="text/javascript">
		var p = "<p>Não dá resize na janela por favor</p>";

		var canvas = document.getElementById("a");

		canvas.width = innerWidth;
		canvas.height = innerHeight;

		var ctx = canvas.getContext("2d");

		function getRandomColor(){
			let [r,g,b] = [randomInt(0,255),randomInt(0,255),randomInt(0,255)];

			return `rgb(${r}, ${g}, ${b})`;
		}
		let size = 20;
		let coef = 1;

		document.body.onpointermove = e => {
			var [x,y] = [e.clientX, e.clientY];

			ctx.beginPath();

			if(size > 300){
				coef = -1;
			}else if(size < 5){
				coef = 1;
			}

			ctx.fillStyle=  getRandomColor();

			ctx.rect(x - size / 2,y - size / 2, size, size);

			ctx.fill();

			size+= coef;
		}

		var arr = Array.from({length: 1000});

		arr.forEach(() => {
			window.addEventListener("resize", () => {
				for(var _ of arr){
					kaka();
				}
			});

			function kaka(){
				document.body.innerHTML += p;
			}
		})

		function randomInt(min, max) {
		    return Math.floor(Math.random() * (max - min + 1) + min);
		}

		function noclick(){
			changeback();
		}

		function changeback(){
			document.body.style.background = getRandomColor();

			setTimeout(changeback, 5);
		}
	</script>
</body>
</html>
